<!doctype html>

<html>

<head>
	<title>Mappy: Rest</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Bootstrap css -->
	<link href="/css/bootstrap.min.css" rel="stylesheet">
	<link href="/css/bootstrap-theme.min.css" rel="stylesheet">

	<!-- Google Font CDN -->
	<link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">

	<!-- Stylesheet -->
	<link href="/css/style.css" rel="stylesheet">
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>	`
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="/js/bootstrap.min.js"></script>
	<script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
	
</head>
<style>
	body {
		background-color: #A8D1E7
	}
</style>
	<body>
		<div class="container screen-bg-rest">
			<div class="back-btn">
				<a id="back" href="/map" class="w3-button w3-red">
					<h5>Back</h5>
				</a>
			</div>
			

			<div class="search-box">
				<input class="search-txt" type="text" name="" placeholder="Type to search">
				{{!-- <a class="search-btn" href="#"></a>
				<i class"fas fa-search"></i> --}}
			</div>
			{{#each rest}}
			<a class="rLink" id="{{id}}" href="/map">
				<div class="row shop-card">
					<div class="col-xs-4">
						<img src="{{image}}" class="img-responsive vertical-align" alt="{{name}}">
					</div>
					<div class="col-xs-8">
						<h3 class="card-title">{{name}}</h3>
						<p class="card-content">Location:Terminal {{terminal}}</p>
						<p class="card-content">Hours: {{hours}}</p>
					</div>
					<div class="col-xs-10">
					</div>
					<div id="mySidenav" class="col-xs-2">
						<a href="#" class="w3-button w3-red">Add</a>
					</div>
				</div>
			</a>
			{{/each}}


		</div>
		<script>
			if ("{{startNodes}}" != "" && "{{endNodes}}" != "") {
				$("#back").attr("href", "/map/{{startNodes}}/{{endNodes}}");
				$(".rLink").each(function () {
					var endNodesStr = "{{endNodes}}"
					var index = endNodesStr.lastIndexOf("+");
					var leftStr = endNodesStr.substring(0, index);
					var rightStr = "+" + endNodesStr.substring(index + 1, endNodesStr.length);
					var combStr = leftStr + this.id + rightStr;
					console.log(leftStr)
					console.log(rightStr)
					var linkStr = '/map/{{startNodes}}+' + this.id + '/' + combStr;
					var id = "#" + this.id;
					$(id).attr('href', linkStr);
				})
			}

		</script>
	</body>

</html>